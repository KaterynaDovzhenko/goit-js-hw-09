{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFields = () => {\n  try {\n    if (localStorage.length === 0) {\n      return;\n    }\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-data')\n    );\n\n    formData = formDataFromLS;\n\n    for (const key in formDataFromLS) {\n      feedbackForm.elements[key].value = formDataFromLS[key];\n    }\n  } catch (error) {\n    console.log(err);\n  }\n};\n\nfillFields();\n\nconst onFormFieldChange = event => {\n  const { target: fieldEl } = event;\n  const fieldValue = fieldEl.value;\n  const fieldName = fieldEl.name;\n\n  formData[fieldName] = fieldValue;\n  localStorage.setItem('feedback-form-data', JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  for (const key in formData) {\n    if (!formData[key]) {\n      alert('Fill please all fields');\n      return;\n    }\n  }\n  const { currentTarget: formEl } = event;\n  formEl.reset();\n  localStorage.removeItem('feedback-form-data');\n};\n\nfeedbackForm.addEventListener('change', onFormFieldChange);\nfeedbackForm.addEventListener('submit', onFormSubmit);\n"],"names":["feedbackForm","formData","fillFields","formDataFromLS","key","onFormFieldChange","event","fieldEl","fieldValue","fieldName","onFormSubmit","formEl"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAa,IAAM,CACvB,GAAI,CACF,GAAI,aAAa,SAAW,EAC1B,OAEF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,oBAAoB,CAC/C,EAEIF,EAAWE,EAEX,UAAWC,KAAOD,EAChBH,EAAa,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAExD,MAAe,CACd,QAAQ,IAAI,GAAG,CAChB,CACH,EAEAF,IAEA,MAAMG,EAAoBC,GAAS,CACjC,KAAM,CAAE,OAAQC,CAAS,EAAGD,EACtBE,EAAaD,EAAQ,MACrBE,EAAYF,EAAQ,KAE1BN,EAASQ,CAAS,EAAID,EACtB,aAAa,QAAQ,qBAAsB,KAAK,UAAUP,CAAQ,CAAC,CACrE,EAEMS,EAAeJ,GAAS,CAC5BA,EAAM,eAAc,EAEpB,UAAWF,KAAOH,EAChB,GAAI,CAACA,EAASG,CAAG,EAAG,CAClB,MAAM,wBAAwB,EAC9B,MACD,CAEH,KAAM,CAAE,cAAeO,CAAQ,EAAGL,EAClCK,EAAO,MAAK,EACZ,aAAa,WAAW,oBAAoB,CAC9C,EAEAX,EAAa,iBAAiB,SAAUK,CAAiB,EACzDL,EAAa,iBAAiB,SAAUU,CAAY"}