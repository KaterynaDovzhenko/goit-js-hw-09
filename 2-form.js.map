{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\n\nlet formData = JSON.parse(localStorage.getItem('feedback-form-data')) || {\n  email: '',\n  message: '',\n};\n\nconst fillFields = () => {\n  try {\n    if (!localStorage.getItem('feedback-form-data')) {\n      return;\n    }\n    const formDataFromLS = JSON.parse(\n      localStorage.getItem('feedback-form-data')\n    );\n\n    formData = formDataFromLS;\n\n    for (const key in formDataFromLS) {\n      feedbackForm.elements[key].value = formDataFromLS[key];\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nfillFields();\n\nconst onFormFieldChange = event => {\n  const { target: fieldEl } = event;\n  const fieldValue = fieldEl.value;\n  const fieldName = fieldEl.name;\n\n  formData[fieldName] = fieldValue;\n  localStorage.setItem('feedback-form-data', JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  for (const key in formData) {\n    if (!formData[key]) {\n      alert('Fill please all fields');\n      return;\n    }\n  }\n  const { currentTarget: formEl } = event;\n  formEl.reset();\n  localStorage.removeItem('feedback-form-data');\n  formData = { email: '', message: '' };\n};\n\nfeedbackForm.addEventListener('input', onFormFieldChange);\nfeedbackForm.addEventListener('submit', onFormSubmit);\n"],"names":["feedbackForm","formData","fillFields","formDataFromLS","key","error","onFormFieldChange","event","fieldEl","fieldValue","fieldName","onFormSubmit","formEl"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQ,oBAAoB,CAAC,GAAK,CACvE,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAa,IAAM,CACvB,GAAI,CACF,GAAI,CAAC,aAAa,QAAQ,oBAAoB,EAC5C,OAEF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,oBAAoB,CAC/C,EAEIF,EAAWE,EAEX,UAAWC,KAAOD,EAChBH,EAAa,SAASI,CAAG,EAAE,MAAQD,EAAeC,CAAG,CAExD,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAH,IAEA,MAAMI,EAAoBC,GAAS,CACjC,KAAM,CAAE,OAAQC,CAAS,EAAGD,EACtBE,EAAaD,EAAQ,MACrBE,EAAYF,EAAQ,KAE1BP,EAASS,CAAS,EAAID,EACtB,aAAa,QAAQ,qBAAsB,KAAK,UAAUR,CAAQ,CAAC,CACrE,EAEMU,EAAeJ,GAAS,CAC5BA,EAAM,eAAc,EAEpB,UAAWH,KAAOH,EAChB,GAAI,CAACA,EAASG,CAAG,EAAG,CAClB,MAAM,wBAAwB,EAC9B,MACD,CAEH,KAAM,CAAE,cAAeQ,CAAQ,EAAGL,EAClCK,EAAO,MAAK,EACZ,aAAa,WAAW,oBAAoB,EAC5CX,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,EAEAD,EAAa,iBAAiB,QAASM,CAAiB,EACxDN,EAAa,iBAAiB,SAAUW,CAAY"}